(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{93290:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account",function(){return r(26156)}])},26156:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return P}});var t=r(34051),o=r.n(t),i=r(85893),a=r(67294),u=r(44431),c=r.n(u),s=r(20294),l=r(5340),f=r(45260),p=r(25675);function d(n,e,r,t,o,i,a){try{var u=n[i](a),c=u.value}catch(s){return void r(s)}u.done?e(c):Promise.resolve(c).then(t,o)}function x(n){return function(){var e=this,r=arguments;return new Promise((function(t,o){var i=n.apply(e,r);function a(n){d(i,t,o,a,u,"next",n)}function u(n){d(i,t,o,a,u,"throw",n)}a(void 0)}))}}function h(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function b(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})))),t.forEach((function(e){h(n,e,r[e])}))}return n}function v(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function m(){var n=v(["\n  padding: 15px 40px;\n"]);return m=function(){return n},n}function g(){var n=v(["\n  align-items: flex-start;\n  display: flex;\n  flex-direction: column;\n  input {\n    padding: 12px;\n    border-radius: 7px;\n    font-size: 22px;\n    border-color: rgba(0, 0, 0, .05);\n    margin-bottom: 5px;\n    min-width: 400px;\n    &:focus {\n      border-color: rgba(0, 0, 0, .1);\n      outline: none;\n    }\n  }\n"]);return g=function(){return n},n}function j(){var n=v(["\n  margin-top: 10px;\n"]);return j=function(){return n},n}function w(){var n=v(["\n  width: 140px;\n  margin-top: 10px;\n"]);return w=function(){return n},n}function y(){var n=v(["\n  margin-top: 20px;\n  border-top: 1px solid rgba(0, 0, 0, .1);\n"]);return y=function(){return n},n}function k(){var n=v(["\n  padding: 12px;\n  font-size: 22px;\n  border-radius: 7px;\n  border-color: rgba(0, 0, 0, .05);\n  &:focus {\n    border-color: rgba(0, 0, 0, .1);\n    outline: none;\n  }\n"]);return k=function(){return n},n}function N(){var n=v(["\n  color: white;\n  background-image: linear-gradient(120deg, #ff266a 0%, #c926ff 50%, #3d04cd 100%);\n  padding: 13px 35px;\n  min-width: 230px;\n  border-radius: 7px;\n  border: none;\n  outline: none;\n  box-shadow: 0 6px 20px rgba(255, 38, 106, .15);\n  cursor: pointer;\n  transition: all .3s;\n  margin-top: 10px;\n  &:hover {\n    box-shadow: 0 6px 20px rgba(255, 38, 106, .3);\n  }\n"]);return N=function(){return n},n}var C=(0,f.Ue)("https://ipfs.infura.io:5001/api/v0"),O=function(n){var e=n.src;n.width,n.quality;return e};function P(){var n=function(n){var e=new(c())(n).multipliedBy(M.currencyConfig.base[1]);return e.isLessThan(1)?void console.log("error: value too small"):e},e=(0,a.useState)(null),r=e[0],t=e[1],u=(0,a.useState)(null),s=u[0],f=u[1],d=(0,a.useState)(""),h=d[0],v=d[1],m=(0,a.useState)(""),g=m[0],j=m[1],w=(0,a.useState)(""),y=w[0],k=w[1],N=(0,a.useState)(!1),P=N[0],F=N[1],L=(0,a.useContext)(l.L),U=L.connect,A=L.fetchBalance,M=L.bundlrInstance,W=L.balance,X=L.profile,q=L.setProfile,D=L.ceramicLoaded,G=L.connectCeramic,H=L.selfId;function J(){return(J=x(o().mark((function e(){var t,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return t=n(r),e.next=5,M.fund(t);case 5:i=e.sent,console.log("Wallet funded: ",i),A();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=x(o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(g||h||y||s){n.next=3;break}return console.log("error... no profile information submitted"),n.abrupt("return");case 3:if(H){n.next=6;break}return n.next=6,U();case 6:return e=b({},X),g&&(e.twitter=g),h&&(e.bio=h),y&&(e.name=y),s&&(e.profileImage=s),n.next=13,H.set("basicProfile",e);case 13:q(e),console.log("profile updated..."),F(!1);case 16:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Q(){return(Q=x(o().mark((function n(e){var r,t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C.add(e.target.files[0]);case 2:r=n.sent,t="https://ipfs.infura.io/ipfs/".concat(r.path),f(t);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}console.log("profile : ",X);var R=Object.keys(X).length;return(0,i.jsxs)("div",{className:_,children:[(0,i.jsx)("h2",{children:"Profile Information"}),!D&&(0,i.jsxs)("button",{onClick:G,className:B,children:["Authenticate to ",R?"update ":"read and update ","profile"]}),D&&!P&&(0,i.jsx)("button",{className:B,onClick:function(){return F(!0)},children:"Update Profile"}),D&&P&&(0,i.jsxs)("div",{className:S,children:[(0,i.jsx)("input",{placeholder:"Name",onChange:function(n){return k(n.target.value)}}),(0,i.jsx)("input",{placeholder:"Bio",onChange:function(n){return v(n.target.value)}}),(0,i.jsx)("input",{className:"pt-4 rounded bg-gray-100 px-3 py-2",placeholder:"Twitter username",onChange:function(n){return j(n.target.value)}}),(0,i.jsxs)("div",{className:I,children:[(0,i.jsx)("label",{children:"Set profile image"}),(0,i.jsx)("input",{type:"file",onChange:function(n){return Q.apply(this,arguments)}})]}),s&&(0,i.jsx)(p.default,{width:"200px",loader:O,unoptimized:!0,className:T,src:s,alt:"profile pic"}),(0,i.jsx)("button",{className:B,onClick:function(){return K.apply(this,arguments)},children:"Update Profile"})]}),R?(0,i.jsxs)("div",{children:[(0,i.jsxs)("h2",{children:[X.name," - ",X.bio]}),X.twitter&&(0,i.jsxs)("p",{children:["Follow me on Twitter - @",X.twitter]}),X.profileImage&&(0,i.jsx)(p.default,{width:"200px",loader:O,src:X.profileImage,alt:"profile pic"})]}):null,(0,i.jsxs)("div",{className:E,children:[(0,i.jsx)("h2",{children:"Account Information"}),!M&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("h3",{children:"Wallet not yet connected..."})}),M&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("h3",{children:["Balance: ",W&&Math.round(1e5*W)/1e5]}),(0,i.jsx)("p",{children:"Transfer tokens from Matic to Bundlr:"}),(0,i.jsx)("input",{onChange:function(n){return t(n.target.value)},placeholder:"Fund wallet",className:z}),(0,i.jsx)("br",{}),(0,i.jsx)("button",{className:B,onClick:function(){return J.apply(this,arguments)},children:"Transfer tokens"})]})]})]})}var _=(0,s.iv)(m()),S=(0,s.iv)(g()),I=(0,s.iv)(j()),T=(0,s.iv)(w()),E=(0,s.iv)(y()),z=(0,s.iv)(k()),B=(0,s.iv)(N())},42611:function(){},88795:function(){}},function(n){n.O(0,[260,774,888,179],(function(){return e=93290,n(n.s=e);var e}));var e=n.O();_N_E=e}]);